<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WQG - WordsQuizzleGame: WQGame</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="resource_logo2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WQG - WordsQuizzleGame
   &#160;<span id="projectnumber">v1.5.8</span>
   </div>
   <div id="projectbrief">Gioco di traduzione di parole Italiane a Inglesi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">WQGame </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
<h2>Requesiti</h2>
<h3>Descrizione del Problema</h3>
<p>Il progetto consiste nell’implementazione di un sistema di sfide di traduzione italiano-inglese tra utenti registrati al servizio. Gli utenti registrati possono sfidare i propri amici ad una gara il cui scopo è quello di tradurre in inglese il maggiore numero di parole italiane proposte dal servizio. Il sistema consente inoltre la gestione di una rete sociale tra gli utenti iscritti. L’applicazione è implementata secondo una architettura client server.</p>
<p><br />
</p>
<h3>Specifica delle Operazioni</h3>
<p>Di seguito sono specificate le operazioni offerte dal servizio WQ. In sede di implementazione è possibile aggiungere ulteriori parametri se necessario.</p>
<p><em><b>Registrazione di un utente</b></em>: <br />
 Per inserire un nuovo utente, il server mette a disposizione una operazione <em>registra_utente(nickUtente,password)</em>. Il server risponde con un codice che può indicare l’avvenuta registrazione, oppure, se il nickname è già presente, o se la password è vuota, restituisce un messaggio d’errore. Come specificato in seguito, le registrazioni sono tra le informazioni da persistere.</p>
<p><em><b>login(nickUtente, password)</b></em>: <br />
 Login di un utente già registrato per accedere al servizio. Il server risponde con un codice che può indicare l’avvenuto login, oppure, se l’utente ha già effettuato la login o la password è errata, restituisce un messaggio d’errore.</p>
<p><em><b>logout(nickUtente)</b></em>: <br />
 Effettua il logout dell’utente dal servizio.</p>
<p><em><b>aggiungi_amico (nickUtente, nickAmico)</b></em>: <br />
 Registrazione di un’amicizia: aggiungere un amico alla cerchia di amici di un utente. Viene creato un arco non orientato tra i due utenti (se A è amico di B, B è amico di A). Il Server risponde con un codice che indica l’avvenuta registrazione dell’amicizia oppure con un codice di errore, se il nickname del nodo destinazione/sorgente della richiesta non esiste, oppure se è stato richiesto di creare una relazione di amicizia già esistente. Non è necessario che il server richieda l’accettazione dell’amicizia da parte di nickAmico.</p>
<p><em><b>lista_amici(nickUtente)</b></em>: <br />
 Utilizzata da un utente per visualizzare la lista dei propri amici, fornendo le proprie generalità. Il server restituisce un oggetto JSON che rappresenta la lista degli amici.</p>
<p><em><b>sfida(nickUtente, nickAmico)</b></em>: <br />
 L’utente <em>nickUtente</em> intende sfidare l’utente di nome <em>nickAmico</em>. Il server controlla che <em>nickAmico</em> appartenga alla lista di amicizie di <em>nickUtente</em>, in caso negativo restituisce un codice di errore e l’operazione termina. In caso positivo, il server invia a nickAmico una richiesta di accettazione della sfida e, solo dopo che la richiesta è stata accettata, la sfida può avere inizio (se la risposta non è stata ricevuta entro un intervallo di tempo <em>T1</em> si considera la sfida come non accettata). La sfida riguarda la traduzione di una lista di parole italiane in parole inglesi, nel minimo tempo possibile. Il server sceglie, in modo casuale, <em>K</em> parole da un dizionario contenente <em>N</em> parole italiane da inviare successivamente, una alla volta, ai due sfidanti. La partita può durare al massimo un intervallo di tempo <em>T2</em>. Il server invia ai partecipanti la prima parola. Quando il giocatore invia la traduzione (giusta o sbagliata), il server invia la parola successiva a quel giocatore. Il gioco termina quando entrambi i giocatori hanno inviato le traduzioni alle <em>K</em> parole o quando scade il timer. La correttezza della traduzione viene controllata dal server utilizzando un servizio esterno, come specificato nella sezione seguente. Ogni traduzione corretta assegna <em>X</em> punti al giocatore; ogni traduzione sbagliata assegna <em>Y</em> punti negativi; il giocatore con più punti vince la sfida ed ottiene <em>Z</em> punti extra. Per ogni risposta non inviata (a causa della scadenza del timer) si assegnano 0 punti. Il punteggio ottenuto da ciascun partecipante alla fine della partita viene chiamato punteggio partita. I valori espressi come <em>K, N, T1, T2, X, Y</em> e <em>Z</em> sono a discrezione dello studente.</p>
<p><em><b>mostra_punteggio(nickUtente)</b></em>: <br />
 Il server restituisce il punteggio di <em>nickUtente</em> (chiamato “punteggio utente”) totalizzato in base ai punteggi partita ottenuti in tutte le sfide che ha effettuato.</p>
<p><em><b>mostra_classifica(nickUtente)</b></em>: <br />
 Il server restituisce in formato JSON la classifica calcolata in base ai punteggi utente ottenuti da <em>nickUtente</em> e dai suoi amici.</p>
<p><br />
</p>
<h4>Specifiche di Implementazione</h4>
<p>Nella realizzazione del progetto devono essere utilizzate molte tecnologie illustrate durante il corso.</p>
<p>In particolare:</p><ul>
<li>la fase di registrazione viene implementata mediante RMI.</li>
<li>La fase di login deve essere effettuata come prima operazione dopo aver instaurato una connessione TCP con il server. Su questa connessione TCP, dopo previa login effettuata con successo, avvengono le interazioni client- server (richieste/risposte).</li>
<li>Il server inoltra la richiesta di sfida originata da nickUtente all'utente nickAmico usando la comunicazione UDP.</li>
<li>Il server può essere realizzato multithreaded oppure può effettuare il multiplexing dei canali mediante NIO.</li>
<li>Il server gestisce un dizionario di N parole italiane, memorizzato in un file. Durante la fase di setup di una sfida fra due utenti il server seleziona K parole a caso su N parole presenti nel dizionario. Prima dell’inizio della partita, ma dopo che ha ricevuto l’accettazione della sfida da parte dell’amico, il server chiede, tramite una chiamata HTTP GET, la traduzione delle parole selezionate al servizio esterno accessibile alla URL <em><a href="https://mymemory.translated.net/doc/spec.php">https://mymemory.translated.net/doc/spec.php</a></em> . Le traduzioni vengono memorizzate per tutta la durata della partita per verificare la correttezza delle risposte inviate dal client.</li>
<li>L'utente interagisce con WQ mediante un client che può utilizzare una semplice interfaccia grafica, oppure una interfaccia a linea di comando, definendo un insieme di comandi, presentati in un menu.</li>
<li>Il server persiste le informazioni di registrazione, relazioni di amicizia e punteggio degli utenti su file JSON. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
